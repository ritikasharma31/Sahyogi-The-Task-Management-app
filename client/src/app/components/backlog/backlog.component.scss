$primary-dark: #13203a;
$bg-dark: #121212;
$card-dark: #1e1e1e;
$text-light: #e0e0e0;
$border-dark: #333;
$mat-blue-light: #3768bb;
$mat-red: #ff5252;

$primary-dark: #13203a;
$bg-light-blue: #a8d0ef;
$border-dark: #394153;
$mat-blue-dark: #a3baee;
$mat-blue-light: #3768bb;

.backlog-container {
  margin-top: 100px;
  display: flex;
  gap: 2rem;
  padding: 1rem;
  max-height: 80vh;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}

.calendar-card,
.preview-card {
  flex: 1;
  height: 79vh;
  overflow: hidden;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  // background: $card-dark;
  min-height: 500px;
  border: 1px solid $border-dark;

  &:hover {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
  }
}

.calendar-card {
  mat-card-content {
    margin-top: -25px;
  }
}

.preview-card {
  mat-card-header {
    // background: linear-gradient(135deg, #2c3e50 0%, #1a2a3a 100%);
    // color: $text-light;
    padding: 16px;
    border-radius: 20px 20px 0 0;
    
    mat-card-title {
      font-weight: 500;
      font-size: 1.5rem;
    }
  }

  mat-expantion-panel{
    margin: 10px;
  }
}

.box {
  margin-top: 15px;
  margin: 10px;
}

.filter-section {
  margin: 0.5rem 0;  // Reduced from 1.5rem
  display: flex;
  justify-content: center;
  padding: 0.5rem;
  // background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;

  mat-radio-group {
    display: flex;
    gap: 1rem;  // Reduced from 1.5rem
    
    mat-radio-button {
      color: $text-light;
    }
  }
}

.legend {
  display: flex;
  // bottom:10px;

  margin-bottom: 20px;
  justify-content: center;
  gap: 1rem;  // Reduced from 2rem
  margin-top: 0.5rem;  // Reduced from 1rem
  padding: 0.5rem;  // Reduced from 0.75rem
  // background: rgba(255, 255, 255, 0.05);
  border-radius: 80px;

  &-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
  }

  &-color {
    width: 14px;
    height: 14px;
    border-radius: 60%;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);

    &.created {
      background: $mat-blue-light;
    }

    &.deadline {
      background: $mat-red;
    }

    &.both {
      background: linear-gradient(135deg, $mat-blue-light 50%, $mat-red 50%);
    }
  }
}

.conditions {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 15px;
}

::ng-deep {
  .mat-calendar {

    .mat-calendar-body-selected {
      background: $mat-blue-light;
      color: white;

      @media (prefers-color-scheme: dark) {
        background-color: $mat-blue-dark;
      }
    }

    .mat-calendar-table-header {
      color: rgba($text-light, 0.7);
    }
  }

  .created-date .mat-calendar-body-cell-content {
    background: rgba($mat-blue-light, 0.2);
  }

  .deadline-date .mat-calendar-body-cell-content {
    background: rgba($mat-red, 0.2);
  }

  .both-dates .mat-calendar-body-cell-content {
    background: linear-gradient(
      135deg,
      rgba($mat-blue-light, 0.2) 50%,
      rgba($mat-red, 0.2) 50%
    );
  }
}

.task-dates {
  display: flex;
  gap: 1.5rem;
  margin-top: 1rem;
  padding: 0.75rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  font-size: 0.9rem;
  
  div {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    
    
  }
}

mat-expansion-panel {
  // background: $card-dark;
  border: 1px solid $border-dark;

  mat-expansion-panel-header {
    
    &:hover {
      background: rgba(255, 255, 255, 0.05) !important;
    }
  }

}

@media (max-width: 768px) {
  .backlog-container {
    flex-direction: column;
    margin-top: 80px;
  }

  .legend {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 0.75rem;  // Reduced from 1rem
    justify-content: center;
  }
}